<!--HTML MODULO DE SELECT BLOG-->
{% if module.show_hide_module %}
    <div class="hub-blog-post-section item-section sec-{{ module.section_name|lower|replace(' ', '-')|replace('&', '-') }}" style="background-color: {{ module.background_color.color }};">
      <div class="max1110">
        <div class="heading-sec">
          {{ module.content }}
        </div>
        <div class="row-fluid hub-blog-post-wrapper">
          
          {% set blogid = module.blog %}
          {% set tag = module.tag_field %}
          
          {# For Blog Recent Posts #}
          {% if module.blog_options == 'blog_recent_posts' %}
          {% set topic_posts = blog_recent_posts(blogid, 4) %}
          {% endif %}
          
          {# For Blog Topic Posts #}
          {% if module.blog_options == 'blog_topics' %}
          {% set topic_posts = blog_recent_tag_posts(blogid, tag, 4) %}
          {% endif %}
          
          {% for topic_post in topic_posts %} 
          <div class="hub-blog-post">
            <div class="inner">          
              <div class="img-wrapper" style="background-image: url('{{ topic_post.featured_image }}');"><a href="{{ topic_post.absolute_url }}"></a></div>
              <div class="hub-post">
    
                {% if topic_post.topic_list %}
                <div class="post-tags">
                  {% for topic in topic_post.topic_list %}
                  <a class="topic-link" href="{{ blog_tag_url(group.id, topic.slug) }}">{{ topic.name }}</a>{% if not loop.last %}{% endif %}
                  {% endfor %}
                </div>
                {% endif %}  
    
                <h3>{{ topic_post.name }}</h3>
                <div class="preview-text">
                  {{ topic_post.post_list_content|truncatehtml(120, '...' , false)|striptags }}
                </div>
              </div>
              <div class="hub-btn-wrapper">
                <a href="{{ topic_post.absolute_url }}" class="read-more">{{ module.button_text }}</a>
              </div>        
    
            </div>
          </div>
          {% endfor %}
    
        </div>
        
        <div class="bottom-btn">     
          <a href="{{ module.button.button_url.href }}" class="btn-blog">{{ module.button.button_text }}</a>
        </div>
    
    
      </div>
    </div>
    {% endif %}
<!--CSS DEL MODULO-->    
<style>
    .hub-blog-post-section{
  padding: 40px 20px;
}
.heading-sec{
  padding-bottom: 40px;
  text-align: center;
}
.hub-blog-post-section .heading-sec p{
  padding-bottom: 10px;
}
.hub-blog-post{
  float: left;
  width: 25%;
  padding: 12px;
}
.hub-blog-post .img-wrapper{
  min-height: 200px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  position: relative;
}
.img-wrapper a{
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  -webkit-transition: all 200ms ease;
  transition: all 200ms ease;
}
.img-wrapper a:hover{
  background: rgba(33, 102, 251, 0.5);
}
.hub-blog-post .hub-post{
  padding: 16px 15px;
  background-color: #2166fb;
  color: #f7f8fb;
}
.post-tags a{
  display: inline-block;
  margin-top: 0;
  margin-right: 3px;
  margin-bottom: 5px;
  padding: 5px 7px;
  border-style: solid;
  border-width: 1px;
  border-color: rgba(247, 248, 251, 0.6);
  -webkit-transition: all 200ms ease;
  transition: all 200ms ease;
  color: rgba(247, 248, 251, 0.6);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0px;
  text-decoration: none;
  text-transform: uppercase;
  line-height: 14px;
}
.post-tags a:hover{
  background-color: #f7f8fb;
  color: #2166fb;
}
.hub-post h3{
  font-size: 18px;
  line-height: 24px;
  margin-top: 10px;
  font-weight: 600;
  margin-bottom: 8px;
  color: #fff;
  margin-top: 5px;
  padding-bottom: 0;
}
.hub-btn-wrapper{
  background-color: #2166fb;
  background-color: #2166fb;
  padding-left: 15px;
  padding-bottom: 13px;
}
.hub-btn-wrapper a.read-more{
  display: inline-block;
  margin-bottom: 10px;
  -webkit-transition: all 200ms ease;
  transition: all 200ms ease;
  color: #fff;
  text-decoration: underline;
  font-size: 16px;
  line-height: 1.4em;
  text-transform: uppercase;
  font-weight: 600;
}
.hub-btn-wrapper a.read-more:hover{
  padding-left: 6px;
}
.bottom-btn a{
  margin-top: 10px;
  margin-bottom: 10px;
  padding: 10px 30px;
  border: 1px solid transparent;
  background-color: #ff6d10;
  -webkit-transition: all 200ms ease;
  transition: all 200ms ease;
  color: #fff;
  font-weight: 700;
  text-align: center;
  text-decoration: none;
  text-transform: uppercase;
  display: inline-block;
}
.bottom-btn a:hover{
  -webkit-transform: translate(0px, -2px);
  -ms-transform: translate(0px, -2px);
  transform: translate(0px, -2px);
  color: #fff;
}
.hub-blog-post-section .bottom-btn{
  padding-top: 20px;
  text-align: center;
}

@media screen and (max-width: 990px){
  .hub-blog-post{
    width: 50%!important;
  }
}
@media screen and (max-width: 767px){
  .hub-blog-post {
    float: none!important;
    width: 100%!important;
    padding: 0!important;
    margin-bottom: 20px!important;
  }
}

</style>
<!--JS DEL MODULO-->
<script>
    $(function(){
  
  // init matchHeight
  $('.hub-post').matchHeight(); 
  
});
</script>